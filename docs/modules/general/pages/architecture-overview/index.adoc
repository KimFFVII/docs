= OneCX Architecture Overview

== Overview
OneCX is a platform that allows users to dynamically construct content of their pages using microfrontends and remote components. This approach allows OneCX users to develop their applications in a scaled agile manner suitable for large organisations that want to serve many user interfaces built and managed by different teams. To achive this goal OneCX is offering complete applications with user-friendly interfaces that enable its users to completely change the way their content is displayed during the runtime. These applications allow users to customize the content served to its users based on workspaces configuration and person accessing the page. Apart from the applications offered by OneCX, users can create all sorts of applications and integrate them with the platform.

.OneCX platform concept view
image::onecx-architecture.png[]

== OneCX definitions

=== OneCX Application and OneCX App

In OneCX context an application and an app are not considered the same. Below are listed their definitions:

* **OneCX Application** - Application is considered as a set of Apps working with eachother related to a specific domain area.
* **OneCX App** - Standalone service offering value to the process of managing the data related to an application. Can be versioned allowing flexibility for the application usage. Usually one of:
** UI - frontend app exposing microfrontend or remote components
** BFF - backend for frontend app
** SVC - backend app handling application related data management

=== Microfrontends and Remote components

* **Microfrontend**: A microfrontend is a piece of user interface that is exposed via a remote entry file. It is to be loaded in a host application instead of running in standalone. It is completely independent from other microfrontends, hence the name. More about microfrontends can be found xref:architecture-overview/mfe.adoc[here].
* **Remote component**: A remote component is similar to microfrontend but should be used for relatively small pieces of UI, usually single components. They come in handy in situations where many applications could use the same component related to an application (ex. many applications might want to use component related to permission management). More about remote component can be found xref:architecture-overview/remoteComponents.adoc[here].

=== OneCX Shell

OneCX shell is a special case of OneCX application. It consists of two apps:

include::partial$shell-bundle.adoc[]

OneCX shell is different from all other applications in the platform because of few reasons. First of all, it has a special path set so it is recognizable as a shell application. Besides that, it is not exposing any remote entries, but is used as standalone (which means that its starting up real frontend app). For this reason it is often called a host, base app or simply shell.

=== OneCX core applications
Shell is considered as one of the core applications in the OneCX platform architecture. Since no microfrontend or remote component can be displayed without the shell application, it is the most important one. In order to serve correct content it needs to cooperate with other core applications, which are responsible for different parts of platform management. Those applications are:

// TODO: Add tenant info
// TODO: Add links to applications
* **Workspace** - Manages **workspaces** by enabling configuration of registered applications and components, menus and every data related to **what can be seen in a given workspace**. More about workspace application can be found here(TODO).
* **Product Store** - Manages **applications** by enabling removal, edition and registration of applications on the platform. Those **applications can then be assigned to be used by workspaces**. More about product store application can be found here(TODO).
* **Theme** - Manages **themes** (page color palette and other style adjustments) that can be selected by workspaces to change **how content is displayed in a given workspace**. More about theme application can be found here(TODO).
* **Permission** - Manages **permissions** via permission-role assignments by enabling addition and removal of permission from a given role to determine **what content can be seen or be interacted with by a user with given role**.  More about permission application can be found here(TODO).
* **User Profile** - Manages **users** via personal information associated to a user and other information important for platform display (ex. user's locale to display content using correct language) to **ensure content is displayed aligned with user preferences**.  More about user profile application can be found here(TODO).
* **Tenant** - Manages tenancy TODO. More about tenant application can be found here(TODO).

=== Identity provider

OneCX does not have a dedicated authentication and authorization tool. Those topics are handled by an external implementation of identity provider. OneCX currently supports keycloak, but it can be extended for arbitrary identity provider. More about authentication and authorization can be found here(TODO).

== Knowledge base
// TODO: External microfrontend idea explanation paper
// TODO: Guide to mfe and remote component dev with angular
Before getting into the details of the OneCX platform it is useful to get familiar with the following concepts:

* **Microfrontend idea** - TODO
* **OneCX microfrontend with angular** - TODO(INTERNAL)
* **OneCX remote component with angular** - TODO(INTERNAL)

