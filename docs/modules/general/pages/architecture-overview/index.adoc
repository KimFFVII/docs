= OneCX Architecture Overview

== Overview
OneCX is a platform that allows users to dynamically construct content of their pages using microfrontends and remote components. This approach allows OneCX users to develop their applications in a scaled agile manner. This makes them suitable for large organisations that want to serve many user interfaces built and managed by different teams. To achieve this goal, OneCX is offering complete applications with user-friendly interfaces that enable users to completely change the way their content is displayed during runtime. These applications allow users to customize the content served to their users based on workspace configuration and people accessing the page. Apart from the applications offered by OneCX, users can create all sorts of applications and integrate them with the platform.

.OneCX platform concept view
image::onecx-architecture.png[]

== OneCX definitions

=== OneCX Application and OneCX App

In the context of OneCX, an Application and an App are not considered the same. Below are listed their definitions:

* **OneCX Application** - An Application is considered to be a set of Apps working with each other related to a specific domain area.
* **OneCX App** - An App is a standalone service involved in the process of data management within an Application. Can be versioned to allow flexibility for the Application's usage. Usually one of the following:
** UI - frontend App exposing microfrontend or remote components
** BFF - backend for frontend App
** SVC - backend App handling application related data management

=== Microfrontends and Remote components

* **Microfrontend**: A microfrontend is a piece of user interface that is exposed via a remote entry file. It is to be loaded in a host application instead of running in standalone. It is completely independent from other microfrontends, hence the name. More about microfrontends can be found xref:architecture-overview/mfe.adoc[here].
* **Remote component**: A remote component is similar to a microfrontend but should be used for relatively small pieces of UI, usually single components. They come in handy in situations where many applications could use the same component related to an application (e.g., many applications might want to use a component related to Permission Management). More about remote component can be found xref:architecture-overview/remoteComponents.adoc[here].

=== OneCX Shell

OneCX Shell is a special case of OneCX Application. It consists of two Apps:

include::partial$shell-bundle.adoc[]

OneCX Shell is different from all other Applications in the platform for a few reasons. First of all, it has a special path set, so it is recognizable as a Shell application. Besides that, its UI is not exposing any remote entries, but is used as standalone (which means that it is running and accessed like a normal frontend application instead, whereas other UI apps are only exposing files to be accessed by the Shell App). For this reason it is often called host app, base app or simply Shell.

=== OneCX Core Applications
The Shell is considered as one of the Core Applications in the OneCX platform architecture. Since no microfrontend or remote component can be displayed without the Shell application, it is the most important one. In order to serve correct content it needs to cooperate with other core applications, which are responsible for different parts of platform management. Those applications are:

// TODO: Add tenant info
// TODO: Add links to applications
* **Workspace** - Manages **workspaces** by enabling configuration of registered applications and components, menus and all data related to **what can be seen in a given workspace**. More about the Workspace Application can be found here(TODO).
* **Product Store** - Manages **applications** by enabling removal, edition and registration of applications on the platform. Those **applications can then be assigned to be used by workspaces**. More about Product Store Application can be found here(TODO).
* **Theme** - Manages **themes** (page color palette and other style adjustments) that can be selected by workspaces to change **how content is displayed in a given workspace**. More about the Theme Application can be found here(TODO).
* **Permission** - Manages **permissions** via permission-role assignments by enabling addition and removal of a permission from a given role to determine **what content can be seen or be interacted with by a user with a given role**.  More about the Permission Application can be found here(TODO).
* **User Profile** - Manages **users** via personal information associated to a user and other information important for the platform's display (e.g., the user's locale to display content using the correct language) to **ensure content is displayed aligned with user preferences**.  More about the User Profile Application can be found here(TODO).
* **Tenant** - Manages tenancy TODO. More about the Tenant Application can be found here(TODO).

=== Identity provider

OneCX does not have a dedicated authentication and authorization tool. Those topics are handled by an external implementation of an identity provider. OneCX currently supports Keycloak, but it can be extended for any identity provider. More about authentication and authorization can be found here(TODO).

// TODO: Link resources
== Knowledge base
// TODO: External microfrontend idea explanation paper
// TODO: Guide to mfe and remote component dev with angular
Before getting into the details of the OneCX platform, it is useful to get familiar with the following concepts:

* **Microfrontend idea** - TODO
* **OneCX microfrontend with angular** - TODO(INTERNAL)
* **OneCX remote component with angular** - TODO(INTERNAL)

